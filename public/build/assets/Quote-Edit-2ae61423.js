import{g as h,h as g,o as u,c as r,a as n,t as a,n as f,F as p,r as _,e as d,v as i,f as x}from"./app-2d9a971f.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const q={props:["quote","currencies"],setup(y){const{quote:o,currencies:s}=y,t=h({supplier:"",name:"",description:"",quantity:0,currency_code:"",amount:0}),w=0;o.lineItems&&g(()=>o.lineItems.reduce((m,b)=>m+b.amount,0));const v=()=>{o.lineItems.push({...t}),l()},e=m=>{},c=m=>{o.lineItems.splice(m,1)},l=()=>{t.name="",t.description="",t.quantity=0,t.currency_code="",t.amount=0};return{newLineItem:t,totalAmount:w,currencies:s,addLineItem:v,saveLineItem:e,removeLineItem:c,resetNewLineItem:l,updateQuote:()=>{},deleteQuote:()=>{}}}},U={class:"flex items-center justify-content-center min-h-screen bg-gray-100",style:{"margin-top":"-250px"}},V={class:"w-full md:w-2/2 lg:w-2/3 p-6 bg-white shadow-md rounded-xl"},I={class:"flex justify-content-between"},Q={class:"text-xl mb-6"},k={class:"grid grid-cols-3 gap-4"},C={class:"rounded-md bg-gray-200"},D={class:"rounded-md bg-gray-200"},A={class:"rounded-md bg-gray-200"},S={class:"mb-4"},j=["onUpdate:modelValue"],B=["onUpdate:modelValue"],N=["onUpdate:modelValue"],F=["onUpdate:modelValue"],E=["onUpdate:modelValue"],M=["value"],T=["onUpdate:modelValue"],z={class:"flex"},G=["onClick"],P=["onClick"],R={class:"flex items-center"},H=["value"],J={class:"flex justify-end mb-4"},K={class:"mr-4"},O={class:"flex justify-end"};function W(y,o,s,t,w,v){return u(),r("div",U,[n("div",V,[n("div",I,[n("h2",Q,a(s.quote.number)+" | "+a(s.quote.client.name)+" - "+a(s.quote.title),1),n("p",{class:f([s.quote.status.name==="Draft"?"quote-table-status-draft":"quote-table-status-sent","text-right mb-4"])},a(s.quote.status.name),3)]),n("div",k,[n("div",C,a(s.quote.client.contact_name),1),n("div",D,a(s.quote.client.contact_email),1),n("div",A,a(s.quote.currency),1)]),n("div",S,[(u(!0),r(p,null,_(s.quote.lineItems,(e,c)=>(u(),r("div",{key:e.id,class:"grid grid-cols-6 gap-2 items-center mb-2 bg-gray-200 p-4 rounded-md"},[d(n("input",{type:"text","onUpdate:modelValue":l=>e.supplier=l,placeholder:"Supplier"},null,8,j),[[i,e.supplier]]),d(n("input",{type:"text","onUpdate:modelValue":l=>e.name=l,placeholder:"Name"},null,8,B),[[i,e.name]]),d(n("input",{type:"text","onUpdate:modelValue":l=>e.description=l,placeholder:"Description"},null,8,N),[[i,e.description]]),d(n("input",{type:"number","onUpdate:modelValue":l=>e.quantity=l,placeholder:"Quantity"},null,8,F),[[i,e.quantity]]),d(n("select",{"onUpdate:modelValue":l=>e.currency_code=l},[(u(!0),r(p,null,_(t.currencies,l=>(u(),r("option",{key:l,value:l},a(l),9,M))),128))],8,E),[[x,e.currency_code]]),d(n("input",{type:"number","onUpdate:modelValue":l=>e.amount=l,placeholder:"Amount"},null,8,T),[[i,e.amount]]),n("div",z,[n("button",{onClick:l=>t.saveLineItem(c),class:"bg-green-500 text-white px-4 py-2 rounded-md"},"Save",8,G),n("button",{onClick:l=>t.removeLineItem(c),class:"bg-red-500 text-white px-4 py-2 rounded-md ml-2"},"Remove",8,P)])]))),128)),n("div",R,[d(n("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>t.newLineItem.supplier=e),class:"w-1/6 mr-2",placeholder:"Supplier"},null,512),[[i,t.newLineItem.supplier]]),d(n("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>t.newLineItem.name=e),class:"w-1/6 mr-2",placeholder:"Name"},null,512),[[i,t.newLineItem.name]]),d(n("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>t.newLineItem.description=e),class:"w-1/6 mr-2",placeholder:"Description"},null,512),[[i,t.newLineItem.description]]),d(n("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=e=>t.newLineItem.quantity=e),class:"w-1/6 mr-2",placeholder:"Quantity"},null,512),[[i,t.newLineItem.quantity]]),d(n("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>t.newLineItem.currency_code=e),class:"w-1/6 mr-2"},[(u(!0),r(p,null,_(t.currencies,e=>(u(),r("option",{key:e,value:e},a(e),9,H))),128))],512),[[x,t.newLineItem.currency_code]]),d(n("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=e=>t.newLineItem.amount=e),class:"w-1/6 mr-2",placeholder:"Amount"},null,512),[[i,t.newLineItem.amount]]),n("button",{onClick:o[6]||(o[6]=(...e)=>t.addLineItem&&t.addLineItem(...e)),class:"ml-2"},"Add")])]),n("div",J,[n("p",K,"Total: "+a(t.totalAmount.toFixed(2))+" GBP",1)]),n("div",O,[n("button",{onClick:o[7]||(o[7]=(...e)=>t.updateQuote&&t.updateQuote(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-md"},"Update Quote"),n("button",{onClick:o[8]||(o[8]=(...e)=>t.deleteQuote&&t.deleteQuote(...e)),class:"bg-red-500 text-white px-4 py-2 rounded-md ml-2"},"Delete Quote")])])])}const ee=L(q,[["render",W]]);export{ee as default};
